import{c as w,n as h}from"./users-BQb8VeAn.js";w()&&(window.innerWidth<640?window.location.href="/inventory.html":window.location.href="/index.html");const d=document.getElementById("togglePw"),r=document.getElementById("loginPassword"),c=document.getElementById("eyeIcon"),m=document.getElementById("eyeSlashIcon");d&&r&&c&&m&&(d.onclick=function(){const e=r.type==="password";r.type=e?"text":"password",c.classList.toggle("hidden",e),m.classList.toggle("hidden",!e)});document.getElementById("loginForm").onsubmit=async function(e){var l;e.preventDefault();const o=document.getElementById("loginEmail").value.trim(),s=(l=document.getElementById("loginPassword"))==null?void 0:l.value,a=document.getElementById("loginError");if(a.classList.add("hidden"),a.textContent="",!s){g("Password is required.");return}const n=e.target.querySelector('button[type="submit"]'),u=n.innerHTML;n.innerHTML=`
        <span class="flex items-center justify-center gap-2">
          <svg class="animate-spin -ml-1 mr-2 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
          Signing In...
        </span>
      `,n.disabled=!0;try{await h(o,s),localStorage.setItem("lastPage",window.innerWidth<640?"/inventory.html":"/index.html"),window.innerWidth<640?window.location.href="/inventory.html":window.location.href="/index.html"}catch(t){console.error("Login error:",t);let i="Login failed. Please try again later.";t.code==="auth/invalid-credential"||t.code==="auth/user-not-found"||t.code==="auth/wrong-password"?i="Invalid email or password. Please check your credentials and try again.":t.code==="auth/invalid-email"?i="Please enter a valid email address.":t.code==="auth/too-many-requests"&&(i="Too many failed attempts. Please try again later."),g(i),n.innerHTML=u,n.disabled=!1}};function g(e){const o=document.getElementById("loginError");o.className="error-message",o.textContent=e}
